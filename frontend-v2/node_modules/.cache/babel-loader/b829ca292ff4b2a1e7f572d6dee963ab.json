{"remainingRequest":"/Users/michelecarmagnani/Git/vue/vue-hoody-store/frontend-v2/node_modules/babel-loader/lib/index.js!/Users/michelecarmagnani/Git/vue/vue-hoody-store/frontend-v2/node_modules/eslint-loader/index.js??ref--13-0!/Users/michelecarmagnani/Git/vue/vue-hoody-store/frontend-v2/src/store/index.js","dependencies":[{"path":"/Users/michelecarmagnani/Git/vue/vue-hoody-store/frontend-v2/src/store/index.js","mtime":1600939074798},{"path":"/Users/michelecarmagnani/Git/vue/vue-hoody-store/frontend-v2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/michelecarmagnani/Git/vue/vue-hoody-store/frontend-v2/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/michelecarmagnani/Git/vue/vue-hoody-store/frontend-v2/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL21pY2hlbGVjYXJtYWduYW5pL0dpdC92dWUvdnVlLWhvb2R5LXN0b3JlL2Zyb250ZW5kLXYyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IHsgY3JlYXRlU3RvcmUgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IGF4IGZyb20gImF4aW9zIjsKaW1wb3J0IHJvdXRlciBmcm9tICIuLy4uL3JvdXRlciI7CmV4cG9ydCBkZWZhdWx0IGNyZWF0ZVN0b3JlKHsKICBzdGF0ZTogewogICAgYXBpVXJsOiAiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwKICAgIHByb2R1Y3RzOiBBcnJheSwKICAgIGNhcnQ6IFtdLAogICAgY29uZmlybWVkOiBvLAogICAgdWk6IHsKICAgICAgc2hvd0NhcnQ6IGZhbHNlCiAgICB9CiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIHRvZ2dsZUNhcnQ6IGZ1bmN0aW9uIHRvZ2dsZUNhcnQoc3RhdGUpIHsKICAgICAgc3RhdGUudWkuc2hvd0NhcnQgPSAhc3RhdGUudWkuc2hvd0NhcnQ7CiAgICB9LAogICAgdXBkYXRlUHJvZHVjdHM6IGZ1bmN0aW9uIHVwZGF0ZVByb2R1Y3RzKHN0YXRlLCBkYXRhKSB7CiAgICAgIHN0YXRlLnByb2R1Y3RzID0gZGF0YTsKICAgIH0sCiAgICBhZGRUb0NhcnQ6IGZ1bmN0aW9uIGFkZFRvQ2FydChzdGF0ZSwgcHJvZHVjdCkgewogICAgICBzdGF0ZS5jYXJ0LnB1c2gocHJvZHVjdCk7CiAgICB9LAogICAgb3JkZXJDb25maXJtZWQ6IGZ1bmN0aW9uIG9yZGVyQ29uZmlybWVkKHN0YXRlLCBjb25maXJtKSB7CiAgICAgIHN0YXRlLmNvbmZpcm1lZCA9IGNvbmZpcm0uZGF0YTsKICAgIH0sCiAgICBlbXB0eUNhcnQ6IGZ1bmN0aW9uIGVtcHR5Q2FydChzdGF0ZSkgewogICAgICBzdGF0ZS5jYXJ0ID0gW107IC8vIFJvdXRlIHRvIGNvbmZpcm1hdGlvbgoKICAgICAgcm91dGVyLnB1c2goIi9jb25maXJtYXRpb24iKTsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIGZldGNoUHJvZHVjdHM6IGZ1bmN0aW9uIGZldGNoUHJvZHVjdHMoY3R4KSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlc3A7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDA7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBheC5nZXQoIiIuY29uY2F0KGN0eC5zdGF0ZS5hcGlVcmwsICIvcHJvZHVjdHMiKSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3AgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coImdldCBkYXRhIGZyb20gZGIiLCByZXNwKTsKICAgICAgICAgICAgICAgIGN0eC5jb21taXQoInVwZGF0ZVByb2R1Y3RzIiwgcmVzcC5kYXRhLnByb2R1Y3RzKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gODsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKF9jb250ZXh0LnQwKTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMCwgOF1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2VuZE9yZGVyOiBmdW5jdGlvbiBzZW5kT3JkZXIoY3R4KSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBkYXRhOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gYXgucG9zdCgiIi5jb25jYXQoY3R4LnN0YXRlLmFwaVVybCwgIi9vcmRlcnMiKSwgewogICAgICAgICAgICAgICAgICBpdGVtczogY3R4LnN0YXRlLmNhcnQKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBkYXRhID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiZGF0YSBmcm9tIGRiIiwgZGF0YSk7IC8vIFNob3cgb3JkZXIgaGFzIGJlZW4gc3VjY2Vzc2Z1bAoKICAgICAgICAgICAgICAgIGN0eC5jb21taXQoIm9yZGVyQ29uZmlybWVkIiwgZGF0YSk7IC8vIEVtcHR5IGNhcnQKCiAgICAgICAgICAgICAgICBjdHguY29tbWl0KCJlbXB0eUNhcnQiKTsgLy8gdG9nZ2xlIENhcnQKCiAgICAgICAgICAgICAgICBjdHguY29tbWl0KCJ0b2dnbGVDYXJ0Iik7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgZ2V0dGVyczogewogICAgcHJvZHVjdHM6IGZ1bmN0aW9uIHByb2R1Y3RzKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5wcm9kdWN0czsKICAgIH0KICB9Cn0pOw=="},{"version":3,"sources":["/Users/michelecarmagnani/Git/vue/vue-hoody-store/frontend-v2/src/store/index.js"],"names":["createStore","ax","router","state","apiUrl","products","Array","cart","confirmed","o","ui","showCart","mutations","toggleCart","updateProducts","data","addToCart","product","push","orderConfirmed","confirm","emptyCart","actions","fetchProducts","ctx","get","resp","console","log","commit","error","sendOrder","post","items","getters"],"mappings":";;AAAA,SAASA,WAAT,QAA4B,MAA5B;AACA,OAAOC,EAAP,MAAe,OAAf;AACA,OAAOC,MAAP,MAAmB,aAAnB;AAEA,eAAeF,WAAW,CAAC;AACzBG,EAAAA,KAAK,EAAE;AACLC,IAAAA,MAAM,EAAE,uBADH;AAELC,IAAAA,QAAQ,EAAEC,KAFL;AAGLC,IAAAA,IAAI,EAAE,EAHD;AAILC,IAAAA,SAAS,EAAEC,CAJN;AAKLC,IAAAA,EAAE,EAAE;AACFC,MAAAA,QAAQ,EAAE;AADR;AALC,GADkB;AAUzBC,EAAAA,SAAS,EAAE;AACTC,IAAAA,UADS,sBACEV,KADF,EACS;AAChBA,MAAAA,KAAK,CAACO,EAAN,CAASC,QAAT,GAAoB,CAACR,KAAK,CAACO,EAAN,CAASC,QAA9B;AACD,KAHQ;AAITG,IAAAA,cAJS,0BAIMX,KAJN,EAIaY,IAJb,EAImB;AAC1BZ,MAAAA,KAAK,CAACE,QAAN,GAAiBU,IAAjB;AACD,KANQ;AAOTC,IAAAA,SAPS,qBAOCb,KAPD,EAOQc,OAPR,EAOiB;AACxBd,MAAAA,KAAK,CAACI,IAAN,CAAWW,IAAX,CAAgBD,OAAhB;AACD,KATQ;AAUTE,IAAAA,cAVS,0BAUMhB,KAVN,EAUaiB,OAVb,EAUsB;AAC7BjB,MAAAA,KAAK,CAACK,SAAN,GAAkBY,OAAO,CAACL,IAA1B;AACD,KAZQ;AAaTM,IAAAA,SAbS,qBAaClB,KAbD,EAaQ;AACfA,MAAAA,KAAK,CAACI,IAAN,GAAa,EAAb,CADe,CAGf;;AACAL,MAAAA,MAAM,CAACgB,IAAP,CAAY,eAAZ;AACD;AAlBQ,GAVc;AA8BzBI,EAAAA,OAAO,EAAE;AACDC,IAAAA,aADC,yBACaC,GADb,EACkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEJvB,EAAE,CAACwB,GAAH,WAAUD,GAAG,CAACrB,KAAJ,CAAUC,MAApB,eAFI;;AAAA;AAEjBsB,gBAAAA,IAFiB;AAGrBC,gBAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCF,IAAhC;AACAF,gBAAAA,GAAG,CAACK,MAAJ,CAAW,gBAAX,EAA6BH,IAAI,CAACX,IAAL,CAAUV,QAAvC;AAJqB;AAAA;;AAAA;AAAA;AAAA;AAMrBsB,gBAAAA,OAAO,CAACG,KAAR;;AANqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQxB,KATM;AAUDC,IAAAA,SAVC,qBAUSP,GAVT,EAUc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACFvB,EAAE,CAAC+B,IAAH,WAAWR,GAAG,CAACrB,KAAJ,CAAUC,MAArB,cAAsC;AACrD6B,kBAAAA,KAAK,EAAET,GAAG,CAACrB,KAAJ,CAAUI;AADoC,iBAAtC,CADE;;AAAA;AACfQ,gBAAAA,IADe;AAInBY,gBAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4Bb,IAA5B,EAJmB,CAKnB;;AACAS,gBAAAA,GAAG,CAACK,MAAJ,CAAW,gBAAX,EAA6Bd,IAA7B,EANmB,CAQnB;;AACAS,gBAAAA,GAAG,CAACK,MAAJ,CAAW,WAAX,EATmB,CAWnB;;AACAL,gBAAAA,GAAG,CAACK,MAAJ,CAAW,YAAX;;AAZmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAapB;AAvBM,GA9BgB;AAuDzBK,EAAAA,OAAO,EAAE;AACP7B,IAAAA,QAAQ,EAAE,kBAACF,KAAD,EAAW;AACnB,aAAOA,KAAK,CAACE,QAAb;AACD;AAHM;AAvDgB,CAAD,CAA1B","sourcesContent":["import { createStore } from \"vuex\";\nimport ax from \"axios\";\nimport router from \"./../router\";\n\nexport default createStore({\n  state: {\n    apiUrl: \"http://localhost:5000\",\n    products: Array,\n    cart: [],\n    confirmed: o,\n    ui: {\n      showCart: false,\n    },\n  },\n  mutations: {\n    toggleCart(state) {\n      state.ui.showCart = !state.ui.showCart;\n    },\n    updateProducts(state, data) {\n      state.products = data;\n    },\n    addToCart(state, product) {\n      state.cart.push(product);\n    },\n    orderConfirmed(state, confirm) {\n      state.confirmed = confirm.data;\n    },\n    emptyCart(state) {\n      state.cart = [];\n\n      // Route to confirmation\n      router.push(\"/confirmation\");\n    },\n  },\n  actions: {\n    async fetchProducts(ctx) {\n      try {\n        let resp = await ax.get(`${ctx.state.apiUrl}/products`);\n        console.log(\"get data from db\", resp);\n        ctx.commit(\"updateProducts\", resp.data.products);\n      } catch (err) {\n        console.error(err);\n      }\n    },\n    async sendOrder(ctx) {\n      let data = await ax.post(`${ctx.state.apiUrl}/orders`, {\n        items: ctx.state.cart,\n      });\n      console.log(\"data from db\", data);\n      // Show order has been successful\n      ctx.commit(\"orderConfirmed\", data);\n\n      // Empty cart\n      ctx.commit(\"emptyCart\");\n\n      // toggle Cart\n      ctx.commit(\"toggleCart\");\n    },\n  },\n  getters: {\n    products: (state) => {\n      return state.products;\n    },\n  },\n});\n"]}]}